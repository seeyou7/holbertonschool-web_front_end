<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Task 6</title>
</head>
<body>
   <script type="application/javascript">
       const availableItems = ["Shampoo", "Soap", "Sponge", "Water"];

       // Check if the browser supports Web Storage
       if (typeof(Storage) === "undefined") {
           alert("Sorry, your browser does not support Web storage. Try again with a better one."); 
       } else {
           createStore();
           displayCart();
       }

       // Add an item to the cart (sessionStorage)
       function addItemToCart(item) {
           // Add item to sessionStorage with value 'true'
           sessionStorage.setItem(item, true);
           console.log(`Added ${item} to cart`); // Debug message
       }

       // Create the store (list of available items)
       function createStore() {
           const ul = document.createElement('ul');

           availableItems.forEach(item => {
               // Create a list item for each available product
               const li = document.createElement('li');
               li.textContent = item; // Set the text content to the item name

               // Add a click event listener to each <li> that calls addItemToCart
               li.addEventListener('click', () => {
                   addItemToCart(item); // Add item to the cart when clicked
               });

               ul.appendChild(li); // Append the <li> to the <ul>
           });

           // Append the <ul> to the body
           document.body.appendChild(ul);
       }

       // Display the cart if there are items in sessionStorage
       function displayCart() {
           let cartItem = 0;

           availableItems.forEach(item => {
               if (sessionStorage.getItem(item)) {
                   cartItem++; // Count the number of items in the cart
               }
           });

           if (cartItem > 0) {
               // Create a <p> element to display the cart status
               const p = document.createElement('p');
               p.textContent = `You previously had ${cartItem} items in your cart.`; // Correct the variable name
               document.body.appendChild(p); // Append the <p> to the body
           }
       }
   </script>
</body>
</html>
